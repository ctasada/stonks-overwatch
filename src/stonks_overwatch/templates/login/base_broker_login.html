{% load static %}
<!DOCTYPE html>
<html lang="en" data-appearance="{{ APPEARANCE }}" data-bs-theme="{% if APPEARANCE == 'auto' %}auto{% else %}{{ APPEARANCE }}{% endif %}">

<head>
    <title>Stonks Overwatch - {% block page_title %}Login{% endblock %}</title>
    {% include 'components/head_standalone.html' %}
    <!-- JavaScript Bundle with Popper -->
    <script src="{% static 'bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
    {% block extra_css %}{% endblock %}
</head>

<body class="login-page">
    <a href="{% url 'login' %}" class="back-link">
        <i class="bi bi-arrow-left"></i> Back to broker selection
    </a>

    <div class="container d-flex justify-content-center align-items-center full-height-container">
        <div class="card shadow p-4 login-card {% block login_card_class %}{% endblock %}">
            <div class="text-center mb-4">
                {% block broker_logo %}{% endblock %}
                {% block page_header %}{% endblock %}
            </div>

            <form id="login-form" method="POST" action="{% url 'broker_login' broker_name %}">
                {% csrf_token %}

                {% include 'components/messages.html' %}

                {% block form_content %}{% endblock %}
            </form>

            {% if not show_loading %}
            {% block footer_content %}
            <div class="text-center mt-4">
                <small class="text-muted">
                    Need help? Check our
                    <a href="https://github.com/ctasada/stonks-overwatch/wiki/{% if broker_name %}{{ broker_name|title }}{% endif %}" target="_blank" class="text-decoration-none">documentation <i class="bi bi-box-arrow-up-right"></i></a>
                </small>
            </div>
            {% endblock %}
            {% endif %}
        </div>
    </div>

    {% block extra_js %}{% endblock %}

    <script src="{% static 'js/login-password-toggle.js' %}"></script>
    <!-- Theme Manager -->
    <script src="{% static 'js/theme-manager.js' %}"></script>
</body>
</html>
