{% load static %}
<!-- TableExport dependencies -->
<script src="{% static 'tableexport.jquery.plugin/libs/FileSaver/FileSaver.min.js' %}"></script>
<script src="{% static 'tableexport.jquery.plugin/tableExport.min.js' %}"></script>
<!-- Bootstrap Table Extensions -->
<script src="{% static 'bootstrap-table/dist/extensions/export/bootstrap-table-export.min.js' %}"></script>
<script src="{% static 'bootstrap-table/dist/extensions/sticky-header/bootstrap-table-sticky-header.min.js' %}"></script>
<script src="{% static 'bootstrap-table/dist/extensions/page-jump-to/bootstrap-table-page-jump-to.min.js' %}"></script>

<!--
    Bootstrap Table Sticky Header Component

    Purpose: Initializes Bootstrap Table with sticky headers, search, pagination, export, and dynamic height calculation

    Required Parameters:
        - table_id: The HTML ID of the table element (e.g., 'trades-table')
        - export_filename: The name for exported CSV files (e.g., 'trades_export')

    Optional Parameters:
        - sort_name: Column name to sort by default (default: 'date')
        - min_height: Minimum table height in pixels (default: 400)
                      Pass a positive integer. Values < 400 are automatically increased to 400 to ensure
                      the table remains usable (enough space for header, pagination, and at least a few rows).

    Configuration:
        The table is initialized with the following features:
        - Search: Enabled (search box above table)
        - Pagination: Enabled with options [10, 25, 50, 100, 200, 'All']
        - Default page size: 10 rows
        - Sorting: Enabled, default sort by 'date' column descending
        - Column visibility toggle: Enabled
        - CSV Export: Enabled in webapp mode, disabled in Toga WebView
        - Sticky header: Enabled (header stays visible when scrolling)
        - Dynamic height: Table height adjusts to available viewport space

    Usage:
        Include this component in your template's extra_js block:
        - Required: table_id='my-table' export_filename='my_export'
        - Optional: sort_name='date' min_height=600

        Example: See account_overview.html, deposits.html, fees.html, or trades.html
-->

<script
    src="{% static 'js/bootstrap-table-init.js' %}"
    data-table-id="{{ table_id }}"
    data-export-filename="{{ export_filename }}"
    data-sort-name="{{ sort_name|default:'date' }}"
    data-min-height="{{ min_height|default:400 }}"
    data-is-webapp="{{ is_webapp|lower }}"
></script>
