{% load static %}
<!DOCTYPE html>
<html lang="en" data-appearance="{{ APPEARANCE }}" data-bs-theme="{% if APPEARANCE == 'auto' %}auto{% else %}{{ APPEARANCE }}{% endif %}">

<head>
    <title>Stonks Overwatch - Select Broker</title>
    {% include 'components/head_standalone.html' %}
    <!-- JavaScript Bundle with Popper -->
    <script src="{% static 'bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
</head>

<body class="login-page">
    <!-- Broker Selector View -->
    <div class="container d-flex justify-content-center align-items-center full-height-container">
        <div class="text-center">
            <h2 class="mb-4">Select Your Broker</h2>
            <p class="text-muted mb-5">Choose your broker to continue with login</p>

            {% include 'components/messages.html' %}

            <div class="broker-grid mx-auto">
                {% for broker in available_brokers %}
                <div class="card broker-card h-100"
                     data-broker="{{ broker.name }}"
                     data-url="{% url 'broker_login' broker.name %}"
                     role="button"
                     tabindex="0">
                    <div class="card-body d-flex flex-column align-items-center text-center p-4">
                        <img src="{% static 'logos/' %}{{ broker.name }}.svg"
                             alt="{{ broker.display_name }}"
                             class="broker-logo mb-3">
                        <h5 class="card-title mb-2">{{ broker.display_name }}</h5>
                        <p class="card-text text-muted small mb-3">{{ broker.description }}</p>
                        {% if not broker.stable %}
                            <span class="badge bg-warning text-dark">Experimental</span>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="mt-5">
                <p class="text-muted small">
                    Don't see your broker?
                    <a href="https://github.com/ctasada/stonks-overwatch" target="_blank" class="text-decoration-none">
                        Request support <i class="bi bi-box-arrow-up-right"></i>
                    </a>
                </p>
            </div>
        </div>
    </div>

    <script src="{% static 'js/login.js' %}"></script>
    <!-- Theme Manager -->
    <script src="{% static 'js/theme-manager.js' %}"></script>
</body>
</html>
