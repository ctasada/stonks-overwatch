{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container-fluid row-gap-5">
    <div class="row border border-primary-subtle bg-light rounded mb-3 position-relative">
        <h4 class="position-absolute top-0 start-0 z-2 px-3" style="padding-top: 8px; padding-left: 4px">Account Overview</h4>
        <table id="account-overview-table"
               data-toggle="table"
               data-search="true"
               data-pagination="true"
               data-pagination-loop="false"
               data-page-list="[10, 25, 50, 100, 200, All]"
               {#FIXME: pageSize doesn't work. https://bootstrap-table.com/docs/api/table-options/#paginationparts#}
               data-pagination-parts="['pageList']"
               data-page-size="10"
               data-sortable="true"
               data-sort-order="desc"
               data-sort-name="date"
               data-icons="icons"
               data-icons-prefix="bi"
               data-fixed-scroll="true">
        <thead>
            <tr>
                <th data-field="date" data-sortable="true" data-width="100" data-width-unit="px">Date</th>
                <th data-field="type" data-sortable="true" data-width="100" data-width-unit="px">Type</th>
                <th data-field="symbol" data-sortable="true" data-width="100" data-width-unit="px">Stock</th>
                <th data-field="description" data-sortable="true">Description</th>
                <th data-field="formated_change" data-sortable="true" data-width="100" data-width-unit="px">Change</th>
                <th data-field="value_date" data-sortable="true" data-width="100" data-width-unit="px">Value Date</th>
            </tr>
        </thead>
        <tbody>
            {% for statement in account_overview %}
            <tr>
                <td class="text-nowrap">{{ statement.date }}<br><small class="fw-lighter">{{ statement.time }}</small></td>
                <td>{{ statement.type_str }}</td>
                <td>{{ statement.stock_symbol }}<br><small class="fw-lighter">{{ statement.stock_name }}</small></td>
                <td>{{ statement.description }}</td>
                <td class="text-nowrap">{{ statement.formated_change }}</td>
                <td class="text-nowrap">{{ statement.value_date }}<br><small class="fw-lighter">{{ statement.value_time }}</small></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
</div>
{% endblock %}