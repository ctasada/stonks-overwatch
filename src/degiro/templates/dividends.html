{% extends 'base.html' %}
{% load custom_tags %}

{% block content %}
<h4 class="mb-3">Dividends</h4>
<div class="container-fluid">
    <div class="row">
        {% for key, value in dividends.items %}
            <div class="col-sm border">
                <div class="row-sm mt-1">
                    {{ key }}
                </div>
                <div class="row m-2">
                    <div class="col-sm-10 text-left">
                        {{ value.payouts }} payouts
                    </div>
                    <div class="col-sm text-right border rounded-pill">
                        {{ value.total|floatformat:2 }}
                    </div>
                </div>
                {% for dividend in value.dividends %}
                <div class="row m-2 border rounded-pill">
                    <div class="col-sm-1 text-left">
                        {{ dividend.day }}
                    </div>
                    <div class="col-sm-8 text-truncate">
                        {{ dividend.stockName }}
                    </div>
                    <div class="col-sm-3 text-right">
                        {{ dividend.value }}
                    </div>
                </div>
                {% endfor %}
            </div>

            {% if forloop.counter|divisibleby:3 %}
                <!-- Force next columns to break to new line at md breakpoint and up -->
                <div class="w-100 d-none d-md-block"></div>
            {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}